import{W as y,r as d,j as e,n as r}from"./app-1abff991.js";import{B as t}from"./Button-41989ba7.js";import{M as B}from"./Modal-d1fc485f.js";import v from"./Form-fb968fcb.js";import{L as p}from"./Loading-f3e3b1f4.js";import{a as F,F as S,b as C}from"./index.esm-d47dd636.js";import{I as E}from"./index.esm-ee10d79b.js";import{B as k}from"./index.esm-7009594e.js";import{D as G,a as I,B as z,M as A,b as H,d as L,e as W,f as x}from"./dropdown-menu-86da1dd9.js";import"./transition-dbf23572.js";import"./InputError-79c2b369.js";import"./TextInput-41877d7c.js";import"./index.esm-bb6d21a8.js";import"./iconBase-d7a64011.js";import"./index.esm-50f203ce.js";function ee({row:u}){const a=u.original,{data:h,setData:o,post:l,processing:i,errors:j,reset:g}=y({nama:"",gambar:null}),[f,s]=d.useState(!1),[m,c]=d.useState("");function w(){c("update"),s(!0),o({nama:a.nama})}function b(n){n.preventDefault(),l(route("gallery.update",a.id),{onSuccess:()=>{r.success("Berhasil mengupdate galeri."),s(!1),g()},onError:M=>{r.error("Gagal mengupdate galeri."),console.log(M)}})}function D(){c("delete"),s(!0)}function N(){l(route("gallery.delete",a.id),{onSuccess:()=>{r.success("Berhasil menghapus galeri."),s(!1)},onError:n=>{r.error("Gagal menghapus galeri."),console.log(n)}})}return e.jsxs(e.Fragment,{children:[e.jsxs(G,{children:[e.jsx(I,{asChild:!0,children:e.jsxs(z,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(A,{className:"h-4 w-4"})]})}),e.jsxs(H,{align:"end",children:[e.jsx(L,{children:"Actions"}),e.jsx(W,{}),e.jsx(x,{onClick:w,children:"Edit Data"}),e.jsx(x,{onClick:D,children:"Delete Data"})]})]}),e.jsxs(B,{maxWidth:"lg",show:f,onClose:()=>s(!1),children:[m==="update"&&e.jsxs(e.Fragment,{children:[e.jsxs("h1",{className:"font-semibold text-xl mb-10 flex items-center gap-x-3",children:[e.jsx(F,{size:25}),e.jsx("span",{children:"Edit Galeri"})]}),e.jsxs("form",{onSubmit:b,children:[e.jsx(v,{...h,errors:j,setData:o,gallery:a}),e.jsx("div",{className:"mt-5",children:i?e.jsx(p,{}):e.jsx(t,{variant:"primary",text:"Simpan",icon:e.jsx(S,{}),className:"w-full"})})]})]}),m==="delete"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("h1",{className:"font-semibold text-xl flex items-center gap-x-3",children:[e.jsx(E,{size:25}),e.jsx("span",{children:"Hapus Galleri"})]}),e.jsxs("p",{className:"mt-3",children:["Konfirmasi hapus berita"," ",e.jsx("span",{className:"text-primary",children:a.nama}),"?"]})]}),e.jsx("div",{className:"flex gap-x-3 mt-10",children:i?e.jsx(p,{}):e.jsxs(e.Fragment,{children:[e.jsx(t,{type:"button",text:"Batal",icon:e.jsx(k,{}),className:"w-full border hover:bg-gray-100",onClick:()=>s(!1)}),e.jsx(t,{type:"button",variant:"primary",text:"Hapus",icon:e.jsx(C,{}),className:"w-full",onClick:N})]})})]})]})]})}export{ee as default};
