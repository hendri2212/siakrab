import{r as c,W as w,j as e,a as _,d as n}from"./app-1abff991.js";import{T as $}from"./truncateText-0efa5ecd.js";import{f as m}from"./formatRupiah-c70df3af.js";import{u as M}from"./useScreen-cfdf0aee.js";import{U as C}from"./UserLayout-d529a845.js";import{f as K,a as S}from"./index.esm-b9ae67de.js";import{d as y}from"./index.esm-50f203ce.js";import{T as U}from"./TextInput-41877d7c.js";import{B as P}from"./Button-41989ba7.js";import{C as T}from"./Checkbox-b6000747.js";import{j as B,k as F,f as D}from"./index.esm-d47dd636.js";import{l as E}from"./index-889a8686.js";import"./Navbar-d862277f.js";import"./index-c3fdb3d3.js";import"./transition-dbf23572.js";import"./index.esm-297e406a.js";import"./iconBase-d7a64011.js";import"./index.esm-7009594e.js";import"./index.esm-8f9a5af4.js";function le({auth:g,query:t,results:r,minPrice:R,maxPrice:z,queryKategori:l}){const{isMobile:d}=M(),[x,o]=c.useState(!0),[i,j]=c.useState(l),{data:N,setData:v,get:h}=w({query:t||""});function p(a){const s=f(a);console.log(s);const u=l.includes(s)?i.filter(k=>k!==s):[...i,s];j(u),h(route("productUMKM.find",{_query:{page:1,kategori:u.join(","),query:t}}))}function f(a){return a.trim().replace(/\s+/g," ")}function b(a){a.preventDefault(),h(route("productUMKM.find",{_query:{page:1,kategori:l,query:t}}))}return c.useEffect(()=>{o(!d)},[d]),e.jsxs(C,{auth:g,children:[e.jsx(_,{title:t||"Produk UMKM"}),e.jsxs("main",{className:"flex sm:flex-row flex-col gap-5",children:[e.jsx("div",{className:"sm:hidden block",children:e.jsxs("form",{onSubmit:b,className:"flex gap-x-3",children:[e.jsx(U,{label:"Search",placeholder:"Search produk...",value:N.query,className:!0,onChange:a=>v("query",a.target.value)}),e.jsx(P,{icon:e.jsx(B,{})})]})}),e.jsxs("section",{className:"sm:sticky top-20 sm:w-[30vw] h-fit rounded-md border p-3",children:[e.jsxs("div",{className:"font-semibold flex items-center justify-between cursor-pointer",onClick:()=>o(a=>!a),children:[e.jsx("span",{children:"Kategori"}),e.jsx(y,{className:`${x?"rotate-180":""} duration-300`})]}),x&&e.jsx("ul",{className:"mt-3 flex flex-col gap-y-3",children:E.map((a,s)=>e.jsxs("li",{className:"flex items-center gap-x-3",children:[e.jsx(T,{checked:i.includes(f(a)),onChange:()=>p(a)})," ",a]},s))})]}),e.jsxs("div",{className:"w-full",children:[i.length>0&&e.jsx("div",{className:"mb-2 flex gap-x-3 h-fit max-w-[100vw] overflow-auto pb-3",children:i.map((a,s)=>e.jsxs("button",{className:"flex gap-x-3 text-sm py-1 px-3 rounded-md bg-dark text-white",children:[e.jsx("span",{className:"whitespace-nowrap",children:a}),e.jsx("span",{onClick:()=>p(a),children:e.jsx(K,{size:20})})]},s))}),r.data.length?e.jsxs("section",{className:"w-full",children:[e.jsx("div",{className:"mb-5 grid lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-5",children:r.data.map(a=>e.jsx("div",{children:e.jsx(n,{href:route("productUMKM.detail",a.nama),children:e.jsxs("div",{className:"relative rounded-md border h-fit overflow-hidden group",children:[e.jsx("img",{src:`/images/uploads/products/${a.thumbnail}`,alt:"produk",className:"rounded-t-md sm:h-[10rem] h-[14rem] overflow-auto w-full group-hover:scale-110 duration-300"}),e.jsx("div",{className:"absolute top-5 left-5 flex gap-x-2",children:e.jsx("span",{className:"rounded-md py-0.5 px-3 text-sm bg-dark text-white",children:a.kategori})}),e.jsxs("div",{className:"p-3 min-h-[10rem] relative",children:[e.jsx("h2",{className:"text-gray-500",children:$(a.nama,32)}),e.jsx("div",{children:a.harga_fix!==null&&a.harga_fix!==""?e.jsx("h1",{className:"font-bold text-lg",children:m(a.harga_fix)}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-bold text-lg",children:m(a.harga_start)}),e.jsx("span",{children:" - "}),e.jsx("span",{className:"font-bold text-lg",children:m(a.harga_end)})]})}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("span",{className:"rounded-md py-0.5 px-2 text-sm bg-gray-100 text-dark",children:["Kec.",a.pelaku_umkm.kecamatan]}),e.jsxs("p",{className:"mt-2 text-sm flex items-center gap-x-2",children:[e.jsx(S,{size:20,className:"text-primary"}),a.pelaku_umkm.nama_usaha]})]})]})]})})},a.id))}),e.jsx("div",{className:"w-fit mx-auto flex items-center gap-x-3 mb-10",children:r.links.map((a,s)=>s===0?e.jsx(n,{href:r.prev_page_url+`&query=${t}&kategori=${l}`,className:"hover:-translate-x-2 duration-300",children:e.jsx("span",{className:`cursor-pointer ${r.current_page===1?"hidden":""}`,children:e.jsx(F,{})},s)},s):s===r.links.length-1?e.jsx(n,{href:r.next_page_url+`&query=${t}&kategori=${l}`,className:`hover:translate-x-2 duration-300 ${r.current_page===r.last_page?"hidden":""}`,children:e.jsx("span",{className:"cursor-pointer",children:e.jsx(D,{})})},s):e.jsx(n,{href:a.url+`&query=${t}&kategori=${l}`,className:`${r.current_page!=a.label?"hover:scale-110 duration-300":"pointer-events-none"} `,children:e.jsx("span",{className:`cursor-pointer ${r.current_page==a.label?"text-primary":""}`,children:a.label},s)},s))})]}):e.jsx("h1",{className:"w-full text-2xl font-semibold",children:"Produk tidak ditemukan."})]})]})]})}export{le as default};
