import{W as N,r as x,j as e,n}from"./app-1abff991.js";import{B as t}from"./Button-41989ba7.js";import{M as k}from"./Modal-d1fc485f.js";import v from"./Form-507757e5.js";import{L as u}from"./Loading-f3e3b1f4.js";import{a as B,F as C,b as F}from"./index.esm-d47dd636.js";import{I as S}from"./index.esm-ee10d79b.js";import{B as y}from"./index.esm-7009594e.js";import{D as E,a as A,B as I,M as z,b as H,d as L,f as o,e as T}from"./dropdown-menu-86da1dd9.js";import"./transition-dbf23572.js";import"./TextInput-41877d7c.js";import"./SelectInput-6e6f8ef3.js";import"./index.esm-50f203ce.js";import"./iconBase-d7a64011.js";import"./InputError-79c2b369.js";function _({row:h}){const s=h.original,{data:i,setData:r,post:l,processing:m,errors:j,reset:c}=N({name:"",email:"",password:"",role:""}),[f,a]=x.useState(!1),[d,p]=x.useState("");function g(){a(!0),r({name:s.name,email:s.email,password:s.password,role:s.role}),p("update")}function w(M){M.preventDefault(),l(route("accountManagement.update",s.id),{onSuccess:()=>{n.success("Berhasil mengupdate akun."),a(!1),c()},onError:()=>{n.error("Gagal mengupdate baru.")}})}function b(){r("email",s.email),a(!0),p("delete")}function D(){l(route("accountManagement.delete",s.id),{onSuccess:()=>{n.success("Berhasil menghapus akun."),a(!1),c()},onError:()=>{n.error("Gagal menghapus akun.")}})}return e.jsxs(e.Fragment,{children:[e.jsxs(E,{children:[e.jsx(A,{asChild:!0,children:e.jsxs(I,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(z,{className:"h-4 w-4"})]})}),e.jsxs(H,{align:"end",children:[e.jsx(L,{children:"Actions"}),e.jsx(o,{onClick:()=>navigator.clipboard.writeText(s.email),children:"Copy email"}),e.jsx(T,{}),e.jsx(o,{onClick:g,children:"Edit Data"}),e.jsx(o,{onClick:b,children:"Delete Data"})]})]}),e.jsx(k,{show:f,onClose:()=>a(!1),maxWidth:"lg",children:e.jsxs("form",{onSubmit:w,children:[d==="update"&&e.jsxs(e.Fragment,{children:[e.jsxs("h1",{className:"font-semibold text-xl mb-10 flex items-center gap-x-3",children:[e.jsx(B,{size:25}),e.jsx("span",{children:"Edit Akun"})]}),e.jsx(v,{...i,setData:r,errors:j}),e.jsx("div",{className:"mt-5",children:m?e.jsx(u,{}):e.jsx(t,{variant:"primary",text:"Simpan",icon:e.jsx(C,{}),className:"w-full"})})]}),d==="delete"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("h1",{className:"font-semibold text-xl flex items-center gap-x-3",children:[e.jsx(S,{size:25}),e.jsx("span",{children:"Hapus Akun"})]}),e.jsxs("p",{className:"mt-3",children:["Konfirmasi hapus akun"," ",e.jsx("span",{className:"text-primary",children:i.email}),"?"]})]}),e.jsx("div",{className:"flex gap-x-3 mt-10",children:m?e.jsx(u,{}):e.jsxs(e.Fragment,{children:[e.jsx(t,{type:"button",text:"Batal",icon:e.jsx(y,{}),className:"w-full border hover:bg-gray-100",onClick:()=>a(!1)}),e.jsx(t,{type:"button",variant:"primary",text:"Hapus",icon:e.jsx(F,{}),className:"w-full",onClick:D})]})})]})]})})]})}export{_ as default};
