import{W as I,r,n as o,j as a}from"./app-1abff991.js";import{U as F}from"./UMKMAdminLayout-45b35b84.js";import{B as g}from"./Button-41989ba7.js";import{M as S}from"./Modal-d1fc485f.js";import{T as l}from"./TextInput-41877d7c.js";import{I as m}from"./InputError-79c2b369.js";import{S as c}from"./SelectInput-6e6f8ef3.js";import{L as A}from"./Loading-f3e3b1f4.js";import{f as W}from"./index.esm-50f203ce.js";import{c as w,d as q,a as E,F as B}from"./index.esm-d47dd636.js";import{H as R}from"./index.esm-8f9a5af4.js";import{l as J,k as L}from"./index-889a8686.js";import"./Sidebar-a7638bcc.js";import"./truncateText-0efa5ecd.js";import"./index.esm-7009594e.js";import"./iconBase-d7a64011.js";import"./index.esm-b9ae67de.js";import"./transition-dbf23572.js";const z={namaUsaha:"",alamatUsaha:"",kecamatan:"",telepon:"",jenisUsaha:"",bidangUsaha:"",jumlahTenagaKerja:"",noIjinUsaha:"",noNPWP:""};function na({auth:h,profileUMKM:s,productCounts:v,categoryCounts:k}){const{data:d,setData:n,post:y,processing:P,errors:t}=I(z),[_,j]=r.useState(!1),[x,b]=r.useState(d.jenisUsaha||"Pilih Jenis Usaha"),[i,N]=r.useState(d.kecamatan||"Pilih Kecamatan");function C(){j(!0),n({namaUsaha:s==null?void 0:s.nama_usaha,bidangUsaha:s==null?void 0:s.bidang_usaha,jenisUsaha:s==null?void 0:s.jenis_usaha,kecamatan:s==null?void 0:s.kecamatan,alamatUsaha:s==null?void 0:s.alamat_usaha,noIjinUsaha:s==null?void 0:s.no_ijin_usaha,noNPWP:s==null?void 0:s.no_npwp,telepon:s==null?void 0:s.telepon,jumlahTenagaKerja:s==null?void 0:s.jumlah_tenaga_kerja,produk:s==null?void 0:s.produk,merk:s==null?void 0:s.merk,alamatRumah:s==null?void 0:s.alamat_rumah}),b(s==null?void 0:s.jenis_usaha),N(s==null?void 0:s.kecamatan)}function T(e){e.preventDefault(),y(route("profileUMKM?.update"),{onSuccess:()=>{o.success("Berhasil memperbarui profile UMKM"),j(!1)},onError:()=>{o.error("Gagal memperbarui profile UMKM")}})}return r.useEffect(()=>{h&&h.user.role===null&&o("Akun UMKM masih menunggu persetujuan Admin!",{icon:a.jsx(W,{size:30,className:"mr-3 text-primary"})})},[]),a.jsx(F,{auth:h,children:a.jsxs("div",{children:[a.jsxs("section",{className:"mb-5 w-full grid grid-cols-3 gap-5",children:[a.jsxs("div",{className:"border-b-2 bg-[#9FFFFF] p-5 rounded-md relative",children:[a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx(w,{size:20})}),a.jsx("h1",{className:"font-bold text-4xl",children:v}),a.jsx("p",{children:"Total Produk"})]}),a.jsxs("div",{className:"border-b-2 bg-[#FBB2FF] p-5 rounded-md relative",children:[a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx(q,{size:20})}),a.jsx("h1",{className:"font-bold text-4xl",children:k}),a.jsx("p",{children:"Sektor Produk "})]}),a.jsxs("div",{className:"border-b-2 bg-[#daff7d] p-5 rounded-md relative",children:[a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx(R,{size:20})}),a.jsx("h1",{className:"font-bold text-4xl",children:s==null?void 0:s.jumlah_tenaga_kerja}),a.jsx("p",{children:"Tenaga Kerja"})]})]}),a.jsxs("section",{className:"p-5 w-full border rounded-md flex gap-5",children:[a.jsx("table",{className:"w-full mb-5",children:a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b mb-3",children:[a.jsx("td",{className:"py-3 font-semibold",children:"Nama Usaha"}),a.jsx("td",{className:"px-2",children:":"}),a.jsx("td",{className:"py-3",children:s==null?void 0:s.nama_usaha})]}),a.jsxs("tr",{className:"border-b mb-3",children:[a.jsx("td",{className:"py-3 font-semibold",children:"Bidang Usaha"}),a.jsx("td",{className:"px-2",children:":"}),a.jsx("td",{className:"py-3",children:s==null?void 0:s.bidang_usaha})]}),a.jsxs("tr",{className:"border-b mb-3",children:[a.jsx("td",{className:"py-3 font-semibold",children:"Jenis Usaha"}),a.jsx("td",{className:"px-2",children:":"}),a.jsx("td",{className:"py-3",children:s==null?void 0:s.jenis_usaha})]}),a.jsxs("tr",{className:"border-b mb-3",children:[a.jsx("td",{className:"py-3 font-semibold",children:"Produk"}),a.jsx("td",{className:"px-2",children:":"}),a.jsx("td",{className:"py-3",children:s==null?void 0:s.produk})]}),a.jsxs("tr",{className:"border-b mb-3",children:[a.jsx("td",{className:"py-3 font-semibold",children:"Merk"}),a.jsx("td",{className:"px-2",children:":"}),a.jsx("td",{className:"py-3",children:s==null?void 0:s.merk})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"py-3 font-semibold",children:"Kecamatan"}),a.jsx("td",{className:"px-2",children:":"}),a.jsx("td",{className:"py-3",children:s==null?void 0:s.kecamatan})]})]})}),a.jsx("table",{className:"w-full mb-5",children:a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"py-3 font-semibold",children:"Alamat Usaha"}),a.jsx("td",{className:"px-2",children:":"}),a.jsx("td",{className:"py-3",children:s==null?void 0:s.alamat_usaha})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"py-3 font-semibold",children:"Alamat Rumah"}),a.jsx("td",{className:"px-2",children:":"}),a.jsx("td",{className:"py-3",children:s==null?void 0:s.alamat_rumah})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"py-3 font-semibold",children:"Nomor Ijin Usaha"}),a.jsx("td",{className:"px-2",children:":"}),a.jsx("td",{className:"py-3",children:s==null?void 0:s.no_ijin_usaha})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"py-3 font-semibold",children:"Nomor NPWP"}),a.jsx("td",{className:"px-2",children:":"}),a.jsx("td",{className:"py-3",children:s==null?void 0:s.no_npwp})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"py-3 font-semibold",children:"Nomor Telepon"}),a.jsx("td",{className:"px-2",children:":"}),a.jsx("td",{className:"py-3",children:s==null?void 0:s.telepon})]})]})}),a.jsx(g,{text:"Edit",onClick:C})]}),a.jsxs(S,{maxWidth:"lg",show:_,onClose:()=>j(!1),children:[a.jsxs("h1",{className:"font-semibold text-xl mb-10 flex items-center gap-x-3",children:[a.jsx(E,{size:25}),a.jsx("span",{children:"Edit Profile UMKM"})]}),a.jsxs("form",{onSubmit:T,className:"flex flex-col gap-5",children:[a.jsxs("div",{children:[a.jsx(l,{label:"Nama Usaha",placeholder:"Nama Usaha",name:"namaUsaha",value:d.namaUsaha,required:!0,onChange:e=>n("namaUsaha",e.target.value)}),a.jsx(m,{message:t.namaUsaha})]}),a.jsxs("div",{children:[a.jsx(l,{label:"Bidang Usaha",placeholder:"Bidang Usaha",name:"namaUsaha",value:d.bidangUsaha,required:!0,onChange:e=>n("bidangUsaha",e.target.value)}),a.jsx(m,{message:t.bidangUsaha})]}),a.jsxs("div",{children:[a.jsx(l,{label:"Produk",placeholder:"Produk",name:"produk",value:d.produk,required:!0,onChange:e=>n("produk",e.target.value)}),a.jsx(m,{message:t.produk})]}),a.jsxs("div",{children:[a.jsx(l,{label:"Merk",placeholder:"Merk",name:"merk",value:d.merk,required:!0,onChange:e=>n("merk",e.target.value)}),a.jsx(m,{message:t.merk})]}),a.jsxs("div",{children:[a.jsx(l,{type:"number",label:"Jumlah Tenaga Kerja",placeholder:"Jumlah Tenaga Kerja",name:"jumlahTenagaKerja",value:d.jumlahTenagaKerja,required:!0,onChange:e=>n("jumlahTenagaKerja",e.target.value)}),a.jsx(m,{message:t.jumlahTenagaKerja})]}),a.jsxs("div",{children:[a.jsxs(c,{children:[a.jsx(c.Trigger,{label:"Jenis Usaha",selected:x!=="Pilih Jenis Usaha",children:a.jsx("div",{className:x==="Pilih Jenis Usaha"?"text-gray-500":"",children:x})}),a.jsx(c.Content,{positionClass:"bottom-14",children:a.jsx("div",{className:"max-h-[12rem] overflow-auto",children:a.jsx("ul",{children:J.map((e,u)=>a.jsx("li",{className:"py-2 rounded-md cursor-pointer hover:bg-gray-100 hover:px-4 duration-300",onClick:()=>{b(e),n("jenisUsaha",e)},children:e},u))})})})]}),a.jsx(m,{message:t.jenisUsaha})]}),a.jsxs("div",{children:[a.jsxs(c,{children:[a.jsx(c.Trigger,{label:"Kecamatan",selected:i!=="Pilih Kecamatan",children:a.jsx("div",{className:i==="Pilih Kecamatan"?"text-gray-500":"",children:i})}),a.jsx(c.Content,{positionClass:"bottom-14",children:a.jsx("div",{className:"sm:max-h-[10rem] max-h-[12rem] overflow-auto",children:a.jsx("ul",{children:L.map((e,u)=>a.jsx("li",{className:"py-2 rounded-md cursor-pointer hover:bg-gray-100 hover:px-4 duration-300",onClick:()=>{N(e),n("kecamatan",e)},children:e},u))})})})]}),a.jsx(m,{message:t.kecamatan})]}),a.jsxs("div",{children:[a.jsx(l,{label:"Alamat Usaha",placeholder:"Alamat Usaha",name:"alamatUsaha",value:d.alamatUsaha,required:!0,onChange:e=>n("alamatUsaha",e.target.value)}),a.jsx(m,{message:t.alamatUsaha})]}),a.jsxs("div",{children:[a.jsx(l,{label:"Alamat Rumah",placeholder:"Alamat Rumah",name:"alamatRumah",value:d.alamatRumah,required:!0,onChange:e=>n("alamatRumah",e.target.value)}),a.jsx(m,{message:t.alamatRumah})]}),a.jsxs("div",{children:[a.jsx(l,{label:"Nomor Ijin Usaha",placeholder:"Nomor Ijin Usaha",name:"noIjinUsaha",value:d.noIjinUsaha,required:!0,onChange:e=>n("noIjinUsaha",e.target.value)}),a.jsx(m,{message:t.noIjinUsaha})]}),a.jsxs("div",{children:[a.jsx(l,{label:"Nomor NPWP",placeholder:"Nomor NPWP",name:"noNPWP",value:d.noNPWP,required:!0,onChange:e=>n("noNPWP",e.target.value)}),a.jsx(m,{message:t.noNPWP})]}),a.jsxs("div",{children:[a.jsx(l,{type:"text",label:"No Telepon / WA",placeholder:"No Telepon / WA",name:"telepon",value:d.telepon,required:!0,onChange:e=>n("telepon",e.target.value)}),a.jsx(m,{message:t.telepon})]}),P?a.jsx(A,{}):a.jsx(g,{variant:"primary",text:"Simpan",icon:a.jsx(B,{})})]})]})]})})}export{na as default};
