import{r as o,j as e,a as S,d as m}from"./app-1abff991.js";import{u as C,S as c,a as i}from"./swiper-react-bead1891.js";import{N as R}from"./navigation-5d826e89.js";import{U as _}from"./UserLayout-d529a845.js";import{k as v,f as j}from"./index.esm-d47dd636.js";import"./Navbar-d862277f.js";import"./index-c3fdb3d3.js";import"./Button-41989ba7.js";import"./index.esm-50f203ce.js";import"./iconBase-d7a64011.js";import"./transition-dbf23572.js";import"./index.esm-297e406a.js";import"./index.esm-7009594e.js";import"./index.esm-8f9a5af4.js";import"./index.esm-b9ae67de.js";import"./TextInput-41877d7c.js";import"./index-889a8686.js";function W({auth:w,listGaleri:r}){const l=r.data,[N,u]=o.useState(!1),[E,h]=o.useState(l),x=o.useRef(null),d=C();o.useEffect(()=>{if(d){const s=document.getElementById("swiper-button-next-galeri"),t=document.getElementById("swiper-button-prev-galeri");s.addEventListener("click",function(){console.log("next"),d.slideNext()}),t.addEventListener("click",function(){d.slidePrev()})}},[d]);const k=s=>{const t=l.findIndex(L=>L===s),F=[l[t],...l.slice(0,t),...l.slice(t+1)];h(F)},a=s=>{k(s),u(!0);const t=x.current;t&&(t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen())};o.useEffect(()=>{const s=()=>{document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(u(!1),h(l))};return document.addEventListener("fullscreenchange",s),document.addEventListener("mozfullscreenchange",s),document.addEventListener("webkitfullscreenchange",s),document.addEventListener("MSFullscreenChange",s),()=>{document.removeEventListener("fullscreenchange",s),document.removeEventListener("mozfullscreenchange",s),document.removeEventListener("webkitfullscreenchange",s),document.removeEventListener("MSFullscreenChange",s)}},[]);const y=r.data.length,n=Math.ceil(y/4),p=r.data.slice(0,n),b=r.data.slice(n,n*2),f=r.data.slice(n*2,n*3),g=r.data.slice(n*3);return e.jsxs(_,{auth:w,children:[e.jsx(S,{title:"Galeri"}),e.jsxs("header",{className:"w-fit mx-auto text-center mb-10",children:[e.jsx("h1",{className:"font-extrabold text-4xl",children:"Galeri Kotabaru"}),e.jsx("p",{className:"text-lg mt-1",children:"Melihat Dunia Kotabaru Melalui Lensa Kami"})]}),e.jsx("section",{className:"sm:grid hidden lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 gap-5",children:l.map((s,t)=>e.jsxs("div",{className:"relative overflow-hidden group cursor-pointer rounded-md",onClick:()=>a(s),children:[e.jsx("img",{src:`/images/uploads/gallery/${s.gambar}`,alt:s.nama,className:"h-[14rem] w-full rounded-md group-hover:scale-110 duration-300"}),e.jsx("div",{className:"absolute bottom-0 h-14 w-full bg-black/70 blur-xl"}),e.jsx("div",{className:"absolute bottom-5 left-5 text-white",children:e.jsx("h1",{className:"text-xl font-semibold",children:s.nama})})]},t))}),e.jsxs("section",{className:"sm:hidden block",children:[e.jsx(c,{slidesPerView:p.length>1?1.5:1,slidesPerGroup:1,spaceBetween:10,loop:!0,className:"mb-5",children:p.map((s,t)=>e.jsx(i,{children:e.jsxs("div",{className:"relative overflow-hidden group cursor-pointer rounded-md",onClick:()=>a(s),children:[e.jsx("img",{src:`/images/uploads/gallery/${s.gambar}`,alt:s.nama,className:"h-[12rem] w-full rounded-md group-hover:scale-110 duration-300"}),e.jsx("div",{className:"absolute bottom-0 h-14 w-full bg-black/70 blur-xl"}),e.jsx("div",{className:"absolute bottom-5 left-5 text-white",children:e.jsx("h1",{className:"text-xl font-semibold",children:s.nama})})]})},t))}),e.jsx(c,{slidesPerView:b.length>1?1.5:1,slidesPerGroup:1,spaceBetween:10,loop:!0,className:"mb-5",children:b.map((s,t)=>e.jsx(i,{children:e.jsxs("div",{className:"relative overflow-hidden group cursor-pointer rounded-md",onClick:()=>a(s),children:[e.jsx("img",{src:`/images/uploads/gallery/${s.gambar}`,alt:s.nama,className:"h-[12rem] w-full rounded-md group-hover:scale-110 duration-300"}),e.jsx("div",{className:"absolute bottom-0 h-14 w-full bg-black/70 blur-xl"}),e.jsx("div",{className:"absolute bottom-5 left-5 text-white",children:e.jsx("h1",{className:"text-xl font-semibold",children:s.nama})})]})},t))}),e.jsx(c,{slidesPerView:f.length>1?1.5:1,slidesPerGroup:1,spaceBetween:10,loop:!0,className:"mb-5",children:f.map((s,t)=>e.jsx(i,{children:e.jsxs("div",{className:"relative overflow-hidden group cursor-pointer rounded-md",onClick:()=>a(s),children:[e.jsx("img",{src:`/images/uploads/gallery/${s.gambar}`,alt:s.nama,className:"h-[12rem] w-full rounded-md group-hover:scale-110 duration-300"}),e.jsx("div",{className:"absolute bottom-0 h-14 w-full bg-black/70 blur-xl"}),e.jsx("div",{className:"absolute bottom-5 left-5 text-white",children:e.jsx("h1",{className:"text-xl font-semibold",children:s.nama})})]})},t))}),e.jsx(c,{slidesPerView:g.length>1?1.5:1,slidesPerGroup:1,spaceBetween:10,loop:!0,className:"mb-5",children:g.map((s,t)=>e.jsx(i,{children:e.jsxs("div",{className:"relative overflow-hidden group cursor-pointer rounded-md",onClick:()=>a(s),children:[e.jsx("img",{src:`/images/uploads/gallery/${s.gambar}`,alt:s.nama,className:"h-[12rem] w-full rounded-md group-hover:scale-110 duration-300"}),e.jsx("div",{className:"absolute bottom-0 h-14 w-full bg-black/70 blur-xl"}),e.jsx("div",{className:"absolute bottom-5 left-5 text-white",children:e.jsx("h1",{className:"text-xl font-semibold",children:s.nama})})]})},t))})]}),e.jsx("div",{className:"mt-5 mb-10 w-fit mx-auto flex items-center gap-x-3",children:r.links.map((s,t)=>t===0?e.jsx(m,{href:r.prev_page_url,className:"hover:-translate-x-2 duration-300",children:e.jsx("span",{className:`cursor-pointer ${r.current_page===1?"hidden":""}`,children:e.jsx(v,{})},t)},t):t===r.links.length-1?e.jsx(m,{href:r.next_page_url,className:`hover:translate-x-2 duration-300 ${r.last_page===r.current_page?"hidden":""}`,children:e.jsx("span",{className:"cursor-pointer",children:e.jsx(j,{})})},t):e.jsx(m,{href:s.url,className:`${r.current_page!=s.label?"hover:scale-110 duration-300":"pointer-events-none"} `,children:e.jsx("span",{className:`cursor-pointer ${r.current_page==s.label?"text-primary":""}`,children:s.label},t)},t))}),e.jsx("div",{ref:x,children:N&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"z-[999] absolute top-1/2 -translate-y-1/2 w-full flex justify-between",children:[e.jsx("button",{className:"swiper-button-prev-galeri h-fit border border-primary text-primary rounded-full p-4 hover:bg-dark hover:text-primary duration-300",children:e.jsx(v,{size:30})}),e.jsx("button",{className:"swiper-button-next-galeri h-fit border border-primary text-primary rounded-full p-4 hover:bg-dark hover:text-primary duration-300",children:e.jsx(j,{size:30})})]}),e.jsx(c,{modules:[R],navigation:{prevEl:".swiper-button-prev-galeri",nextEl:".swiper-button-next-galeri"},onSwiper:s=>{s.navigation.update()},loop:!0,className:"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2",children:E.map((s,t)=>e.jsx(i,{children:e.jsx("img",{src:`/images/uploads/gallery/${s.gambar}`,alt:s.nama,className:"w-full sm:h-screen h-auto"})},t))})]})})]})}export{W as default};
