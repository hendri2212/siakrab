import{r as n,j as e,d as v,y as N}from"./app-1abff991.js";import{u as b}from"./useScreen-cfdf0aee.js";import{u as k,S as w,a as y}from"./swiper-react-bead1891.js";import{f as o}from"./formatRupiah-c70df3af.js";import{f as S}from"./formatPhone-783654f1.js";import{N as E}from"./navigation-5d826e89.js";import{s as p}from"./formatSlug-c51c4443.js";/* empty css               */import{B as l}from"./Button-41989ba7.js";import{e as C,d as F}from"./index.esm-297e406a.js";import{a as M}from"./index.esm-7639a781.js";import{T as B}from"./truncateText-0efa5ecd.js";import{f as P}from"./index.esm-b9ae67de.js";import{l as _}from"./index-889a8686.js";import"./iconBase-d7a64011.js";import"./index.esm-d47dd636.js";import"./index.esm-50f203ce.js";function Q({listProdukUMKM:d}){const r=k(),{isMobile:m,isTablet:h}=b(),[u,i]=n.useState(!1),[a,c]=n.useState("Semua");n.useEffect(()=>{if(r){const s=document.getElementById("swiper-button-next2"),t=document.getElementById("swiper-button-prev2");s.addEventListener("click",function(){console.log("next"),r.slideNext()}),t.addEventListener("click",function(){r.slidePrev()})}},[r]);const x=a!=="Semua"?d.filter(s=>s.kategori===a):d;return e.jsxs("main",{id:"products",className:"container mx-auto sm:px-20 px-5 my-10",children:[e.jsxs("header",{className:"w-fit mx-auto text-center mb-10",children:[e.jsx("h1",{className:"font-extrabold text-4xl",children:"Produk UMKM"}),e.jsx("p",{className:"text-lg mt-1",children:"Jelajahi Produk Kreatif dari UMKM Lokal Kami"})]}),e.jsxs("section",{className:"relative",children:[e.jsx("div",{className:"mb-7",children:e.jsxs("div",{className:"flex gap-x-3 h-fit",children:[e.jsxs("div",{className:"relative z-20",children:[e.jsx(l,{text:"Filter",icon:e.jsx(C,{}),onClick:()=>i(s=>!s)}),e.jsxs("div",{className:`w-[17rem] max-h-[20rem] overflow-auto absolute top-12 bg-white rounded-md border border-primary p-5 duration-300 ${u?"opacity-100":"opacity-0 -translate-y-5 pointer-events-none"}`,children:[e.jsx("div",{className:"fixed inset-0",onClick:()=>i(!1)}),e.jsx("ul",{className:"flex flex-col relative",children:_.map((s,t)=>e.jsx("li",{className:"py-2 rounded-md cursor-pointer hover:px-3 hover:bg-gray-100 duration-300",onClick:()=>{c(s),i(!1)},children:s},t))})]})]}),e.jsxs("div",{className:`py-2 px-4 rounded-md border flex justify-center items-center ${a!=="Semua"?" border-dark bg-dark text-white":"hidden"}`,children:[a,a!=="Semua"&&e.jsx("div",{className:"ml-3",children:e.jsx(P,{size:20,className:"text-red-500 cursor-pointer hover:scale-125 duration-300",onClick:()=>c("Semua")})})]})]})}),x.length>0?e.jsx(w,{slidesPerView:m?1.5:h?2.5:3.5,spaceBetween:20,modules:[E],navigation:{prevEl:".swiper-button-prev2",nextEl:".swiper-button-next2"},onSwiper:s=>{s.navigation.update()},loop:m,children:x.map(s=>{function t(){const f=S(s.pelaku_umkm.telepon),j=`Halo saya tertarik dengan produk ${s.nama}`,g=`https://wa.me/${f}?text=${encodeURIComponent(j)}`;window.open(g,"_blank")}return e.jsx(y,{children:e.jsx(v,{href:route("productUMKM.detail",p(s.nama)),children:e.jsxs("div",{className:"relative rounded-md border h-fit overflow-hidden group",children:[e.jsx("img",{src:`/images/uploads/products/${s.thumbnail}`,alt:"produk",className:"rounded-t-md h-[12rem] w-full group-hover:scale-110 duration-300"}),e.jsx("div",{className:"absolute top-5 left-5 flex gap-x-2",children:e.jsx("span",{className:"rounded-md py-0.5 px-3 text-sm bg-dark text-white",children:s.kategori})}),e.jsxs("div",{className:"p-5 min-h-[11rem] relative",children:[e.jsx("h2",{className:"text-gray-500",children:B(s.nama,20)}),e.jsx("div",{children:s.harga_fix!==null&&s.harga_fix!==""?e.jsx("h1",{className:"font-bold text-lg",children:o(s.harga_fix)}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-bold text-lg",children:o(s.harga_start)}),e.jsx("span",{children:" - "}),e.jsx("span",{className:"font-bold text-lg",children:o(s.harga_end)})]})}),e.jsxs("div",{className:"absolute bottom-5 w-fit ml-auto flex gap-x-3",children:[e.jsx(l,{icon:e.jsx(M,{size:20}),onClick:()=>N.visit(`/product/${p(s.nama)}`)}),e.jsx(l,{text:"Whatsapp",icon:e.jsx(F,{size:20}),onClick:t})]})]})]})})},s.id)})}):e.jsxs("div",{className:"mt-5",children:[e.jsxs("h1",{className:"text-2xl font-bold",children:["Produk",a!=="Semua"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"sektor"})," ",e.jsx("span",{className:"text-primary",children:a})]})," ","tidak ditemukan"]}),e.jsx("p",{children:"Saat ini produk yang ada cari belum tersedia."})]})]})]})}export{Q as default};
