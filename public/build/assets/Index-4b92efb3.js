import{W as w,r as m,j as t,n}from"./app-1abff991.js";import{D as e}from"./Draft-a4c6aff9.js";import{A as v}from"./AdminLayout-2f6fd879.js";import{B as p}from"./Button-41989ba7.js";import{M as y}from"./Modal-d1fc485f.js";import N from"./Form-b68712d8.js";import{L as C}from"./Loading-f3e3b1f4.js";import{DataTable as D}from"./DataTable-0224ed2d.js";import{B as l}from"./index.esm-50f203ce.js";import{F as M}from"./index.esm-d47dd636.js";import"./Sidebar-a7638bcc.js";import"./truncateText-0efa5ecd.js";import"./index.esm-7009594e.js";import"./iconBase-d7a64011.js";import"./index.esm-b9ae67de.js";import"./index.esm-297e406a.js";import"./transition-dbf23572.js";/* empty css                            */import"./TextInput-41877d7c.js";import"./InputError-79c2b369.js";import"./index.esm-bb6d21a8.js";import"./table-081ac3df.js";import"./dropdown-menu-86da1dd9.js";import"./Columns-36a0dd48.js";import"./formatTanggal-a327acf6.js";import"./RowActions-7d3a92e7.js";import"./index.esm-ee10d79b.js";import"./checkbox-15aaa6e3.js";function at({listBerita:c}){const{data:u,setData:a,post:d,processing:f,errors:x,reset:j}=w({judul:"",konten:"",gambar:null}),[S,r]=m.useState(!1),[s,i]=m.useState(e.EditorState.createEmpty()),h=s.getCurrentContent(),g=JSON.stringify(e.convertToRaw(h));function b(o){i(o),a("konten",g)}function B(o){o.preventDefault(),d(route("news.store"),{onSuccess:()=>{i(e.EditorState.createEmpty()),n.success("Berhasil membuat berita."),r(!1)},onError:E=>{n.error("Gagal membuat berita."),console.log(E)}})}return t.jsxs(v,{cta:t.jsx(p,{variant:"primary",text:"Buat Berita",icon:t.jsx(l,{}),onClick:()=>{r(o=>!o),j()}}),children:[t.jsx(D,{data:c}),t.jsxs(y,{show:S,onClose:()=>r(!1),children:[t.jsxs("h1",{className:"font-semibold text-xl mb-10 flex items-center gap-x-3",children:[t.jsx(l,{size:25}),t.jsx("span",{children:"Buat Berita"})]}),t.jsxs("form",{onSubmit:B,children:[t.jsx(N,{...u,errors:x,editorState:s,handleEditorStateChange:b,setData:a}),t.jsx("div",{className:"mt-5",children:f?t.jsx(C,{}):t.jsx(p,{variant:"primary",text:"Simpan",icon:t.jsx(M,{}),className:"w-full"})})]})]})]})}export{at as default};
