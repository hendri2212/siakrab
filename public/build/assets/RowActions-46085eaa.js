import{W as M,r as d,j as e,n}from"./app-1abff991.js";import{B as r}from"./Button-41989ba7.js";import{M as v}from"./Modal-d1fc485f.js";import F from"./Form-581b3c2f.js";import{L as u}from"./Loading-f3e3b1f4.js";import{a as S,F as k,b as C}from"./index.esm-d47dd636.js";import{I as E}from"./index.esm-ee10d79b.js";import{B as y}from"./index.esm-7009594e.js";import{D as I,a as z,B as A,M as H,b as L,d as G,e as R,f as p}from"./dropdown-menu-86da1dd9.js";import"./transition-dbf23572.js";import"./InputError-79c2b369.js";import"./TextArea-ce19fe4d.js";import"./TextInput-41877d7c.js";import"./iconBase-d7a64011.js";function _({row:x}){const a=x.original,{data:h,setData:o,post:i,processing:l,errors:j,reset:f}=M({judul:"",konten:"",gambar:null}),[g,s]=d.useState(!1),[c,m]=d.useState("");function b(){m("update"),s(!0),o({judul:a.judul,konten:a.konten})}function w(t){t.preventDefault(),i(route("announcement.update",a.id),{onSuccess:()=>{n.success("Berhasil mengupdate pengumuman."),s(!1),f()},onError:B=>{n.error("Gagal mengupdate pengumuman."),console.log(B)}})}function D(){m("delete"),s(!0)}function N(){i(route("announcement.delete",a.id),{onSuccess:()=>{n.success("Berhasil menghapus berita."),s(!1)},onError:t=>{n.error("Gagal menghapus berita."),console.log(t)}})}return e.jsxs(e.Fragment,{children:[e.jsxs(I,{children:[e.jsx(z,{asChild:!0,children:e.jsxs(A,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(H,{className:"h-4 w-4"})]})}),e.jsxs(L,{align:"end",children:[e.jsx(G,{children:"Actions"}),e.jsx(R,{}),e.jsx(p,{onClick:b,children:"Edit Data"}),e.jsx(p,{onClick:D,children:"Delete Data"})]})]}),e.jsxs(v,{show:g,onClose:()=>s(!1),children:[c==="update"&&e.jsxs(e.Fragment,{children:[e.jsxs("h1",{className:"font-semibold text-xl mb-10 flex items-center gap-x-3",children:[e.jsx(S,{size:25}),e.jsx("span",{children:"Edit Berita"})]}),e.jsxs("form",{onSubmit:w,children:[e.jsx(F,{...h,errors:j,setData:o}),e.jsx("div",{className:"mt-5",children:l?e.jsx(u,{}):e.jsx(r,{variant:"primary",text:"Simpan",icon:e.jsx(k,{}),className:"w-full"})})]})]}),c==="delete"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("h1",{className:"font-semibold text-xl flex items-center gap-x-3",children:[e.jsx(E,{size:25}),e.jsx("span",{children:"Hapus Berita"})]}),e.jsxs("p",{className:"mt-3",children:["Konfirmasi hapus berita"," ",e.jsx("span",{className:"text-primary",children:a.judul}),"?"]})]}),e.jsx("div",{className:"flex gap-x-3 mt-10",children:l?e.jsx(u,{}):e.jsxs(e.Fragment,{children:[e.jsx(r,{type:"button",text:"Batal",icon:e.jsx(y,{}),className:"w-full border hover:bg-gray-100",onClick:()=>s(!1)}),e.jsx(r,{type:"button",variant:"primary",text:"Hapus",icon:e.jsx(C,{}),className:"w-full",onClick:N})]})})]})]})]})}export{_ as default};
