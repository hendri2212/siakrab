import{r as m,W as B,j as a,n as d}from"./app-1abff991.js";import{M as C}from"./Modal-d1fc485f.js";import{S as o}from"./SelectInput-6e6f8ef3.js";import{B as v}from"./Button-41989ba7.js";import{L as P}from"./Loading-f3e3b1f4.js";import{a as W}from"./index.esm-b9ae67de.js";import{B as _}from"./index.esm-7009594e.js";import{G as A}from"./iconBase-d7a64011.js";import{D as q,a as D,B as E,M as R,b as F,d as J,f,e as L}from"./dropdown-menu-86da1dd9.js";import{T as t}from"./TextInput-41877d7c.js";import{I as i}from"./InputError-79c2b369.js";import{l as V,k as z}from"./index-889a8686.js";import{a as G,F as H}from"./index.esm-d47dd636.js";import"./transition-dbf23572.js";import"./index.esm-50f203ce.js";function O(c){return A({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"}}]})(c)}const $={id:"",namaUsaha:"",alamatUsaha:"",kecamatan:"",telepon:"",jenisUsaha:"",bidangUsaha:"",jumlahTenagaKerja:"",noIjinUsaha:"",noNPWP:"",role:"",produk:"",merk:"",alamatRumah:""};function ha({row:c}){const s=c.original,[K,h]=m.useState(!1),[S,u]=m.useState(!1),[j,U]=m.useState("Pilih Status"),{data:n,setData:r,post:k,processing:b,errors:l}=B($),[x,M]=m.useState(n.jenisUsaha||"Pilih Jenis Usaha"),[p,N]=m.useState(n.kecamatan||"Pilih Kecamatan");function T(){h(!0)}function w(e){e.preventDefault(),k(route("verifyUMKM.update",s.user_id),{onSuccess:()=>{j==="Terima"?d.success("Berhasil memverifikasi pendaftaran UMKM. dengan status diterima."):d.success("Berhasil memverifikasi pendaftaran UMKM. dengan status ditolak."),h(!1),reset()},onError:()=>{d.promise("Gagal memverifikasi pendaftaran UMKM.")}})}function y(){u(!0),r({id:s.id,namaUsaha:s.nama_usaha,bidangUsaha:s.bidang_usaha,jenisUsaha:s.jenis_usaha,kecamatan:s.kecamatan,alamatUsaha:s.alamat_usaha,noIjinUsaha:s.no_ijin_usaha,noNPWP:s.no_npwp,telepon:s.telepon,jumlahTenagaKerja:s.jumlah_tenaga_kerja,produk:s.produk,merk:s.merk,alamatRumah:s.alamat_rumah}),M(s.jenis_usaha),N(s.kecamatan)}function I(e){e.preventDefault(),k(route("pelakuUMKM.update"),{onSuccess:()=>{d.success("Berhasil memperbarui profile UMKM"),u(!1)},onError:()=>{d.error("Gagal memperbarui profile UMKM")}})}return a.jsxs(a.Fragment,{children:[a.jsxs(q,{children:[a.jsx(D,{asChild:!0,children:a.jsxs(E,{variant:"ghost",className:"h-8 w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Open menu"}),a.jsx(R,{className:"h-4 w-4"})]})}),a.jsxs(F,{align:"end",children:[a.jsx(J,{children:"Actions"}),a.jsx(f,{onClick:()=>navigator.clipboard.writeText(s.user.email),children:"Copy email"}),a.jsx(L,{}),a.jsx(f,{onClick:()=>y(),children:"Edit"}),a.jsx(f,{onClick:T,children:"Verifikasi"})]})]}),a.jsx(C,{maxWidth:"lg",show:K,onClose:()=>h(!1),children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-10",children:[a.jsxs("h1",{className:"font-semibold text-xl flex items-center gap-x-3",children:[a.jsx(W,{size:25}),a.jsx("span",{children:"Verifikasi"})]}),a.jsxs("p",{className:"mt-3",children:["Verifikasi akun UMKM"," ",a.jsx("span",{className:"text-primary",children:s.user.name})]})]}),a.jsxs("form",{onSubmit:w,children:[a.jsxs(o,{children:[a.jsx(o.Trigger,{children:j}),a.jsx(o.Content,{children:a.jsxs("ul",{children:[a.jsx("li",{className:"py-2 rounded-md cursor-pointer duration-300 hover:px-4 hover:bg-gray-100",onClick:()=>{U("Terima"),r("role","umkmAdmin")},children:"Terima"}),a.jsx("li",{className:"py-2 rounded-md cursor-pointer duration-300 hover:px-4 hover:bg-gray-100",onClick:()=>{U("Tolak"),r("role","rejected")},children:"Tolak"})]})})]}),j!=="Pilih Status"&&(b?a.jsx(P,{}):a.jsxs("div",{className:"mt-10 flex gap-x-3",children:[a.jsx(v,{type:"button",text:"Batal",icon:a.jsx(_,{}),className:"w-full border hover:bg-gray-100",onClick:()=>h(!1)}),a.jsx(v,{variant:"primary",text:"Konfirmasi",icon:a.jsx(O,{}),className:`w-full
                            `})]}))]})]})}),a.jsxs(C,{maxWidth:"lg",show:S,onClose:()=>u(!1),children:[a.jsxs("h1",{className:"font-semibold text-xl mb-10 flex items-center gap-x-3",children:[a.jsx(G,{size:25}),a.jsx("span",{children:"Edit Profile UMKM"})]}),a.jsxs("form",{onSubmit:I,className:"flex flex-col gap-5",children:[a.jsxs("div",{children:[a.jsx(t,{label:"Nama Usaha",placeholder:"Nama Usaha",name:"namaUsaha",value:n.namaUsaha,required:!0,onChange:e=>r("namaUsaha",e.target.value)}),a.jsx(i,{message:l.namaUsaha})]}),a.jsxs("div",{children:[a.jsx(t,{label:"Bidang Usaha",placeholder:"Bidang Usaha",name:"bidangUsaha",value:n.bidangUsaha,required:!0,onChange:e=>r("bidangUsaha",e.target.value)}),a.jsx(i,{message:l.bidangUsaha})]}),a.jsxs("div",{children:[a.jsx(t,{label:"Produk",placeholder:"Produk",name:"produk",value:n.produk,required:!0,onChange:e=>r("produk",e.target.value)}),a.jsx(i,{message:l.produk})]}),a.jsxs("div",{children:[a.jsx(t,{label:"Merk",placeholder:"Merk",name:"merk",value:n.merk,required:!0,onChange:e=>r("merk",e.target.value)}),a.jsx(i,{message:l.merk})]}),a.jsxs("div",{children:[a.jsx(t,{type:"number",label:"Jumlah Tenaga Kerja",placeholder:"Jumlah Tenaga Kerja",name:"jumlahTenagaKerja",value:n.jumlahTenagaKerja,required:!0,onChange:e=>r("jumlahTenagaKerja",e.target.value)}),a.jsx(i,{message:l.jumlahTenagaKerja})]}),a.jsxs("div",{children:[a.jsxs(o,{children:[a.jsx(o.Trigger,{label:"Jenis Usaha",selected:x!=="Pilih Jenis Usaha",children:a.jsx("div",{className:x==="Pilih Jenis Usaha"?"text-gray-500":"",children:x})}),a.jsx(o.Content,{positionClass:"bottom-14",children:a.jsx("div",{className:"max-h-[12rem] overflow-auto",children:a.jsx("ul",{children:V.map((e,g)=>a.jsx("li",{className:"py-2 rounded-md cursor-pointer hover:bg-gray-100 hover:px-4 duration-300",onClick:()=>{M(e),r("jenisUsaha",e)},children:e},g))})})})]}),a.jsx(i,{message:l.jenisUsaha})]}),a.jsxs("div",{children:[a.jsxs(o,{children:[a.jsx(o.Trigger,{label:"Kecamatan",selected:p!=="Pilih Kecamatan",children:a.jsx("div",{className:p==="Pilih Kecamatan"?"text-gray-500":"",children:p})}),a.jsx(o.Content,{positionClass:"bottom-14",children:a.jsx("div",{className:"sm:max-h-[10rem] max-h-[12rem] overflow-auto",children:a.jsx("ul",{children:z.map((e,g)=>a.jsx("li",{className:"py-2 rounded-md cursor-pointer hover:bg-gray-100 hover:px-4 duration-300",onClick:()=>{N(e),r("kecamatan",e)},children:e},g))})})})]}),a.jsx(i,{message:l.kecamatan})]}),a.jsxs("div",{children:[a.jsx(t,{label:"Alamat Usaha",placeholder:"Alamat Usaha",name:"alamatUsaha",value:n.alamatUsaha,required:!0,onChange:e=>r("alamatUsaha",e.target.value)}),a.jsx(i,{message:l.alamatUsaha})]}),a.jsxs("div",{children:[a.jsx(t,{label:"Alamat Rumah",placeholder:"Alamat Rumah",name:"alamatRumah",value:n.alamatRumah,required:!0,onChange:e=>r("alamatRumah",e.target.value)}),a.jsx(i,{message:l.alamatRumah})]}),a.jsxs("div",{children:[a.jsx(t,{label:"Nomor Ijin Usaha",placeholder:"Nomor Ijin Usaha",name:"noIjinUsaha",value:n.noIjinUsaha,required:!0,onChange:e=>r("noIjinUsaha",e.target.value)}),a.jsx(i,{message:l.noIjinUsaha})]}),a.jsxs("div",{children:[a.jsx(t,{label:"Nomor NPWP",placeholder:"Nomor NPWP",name:"noNPWP",value:n.noNPWP,required:!0,onChange:e=>r("noNPWP",e.target.value)}),a.jsx(i,{message:l.noNPWP})]}),a.jsxs("div",{children:[a.jsx(t,{type:"text",label:"No Telepon / WA",placeholder:"No Telepon / WA",name:"telepon",value:n.telepon,required:!0,onChange:e=>r("telepon",e.target.value)}),a.jsx(i,{message:l.telepon})]}),b?a.jsx(P,{}):a.jsx(v,{variant:"primary",text:"Simpan",icon:a.jsx(H,{})})]})]})]})}export{ha as default};
