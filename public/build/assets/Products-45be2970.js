import{r as i,W as E,q as C,j as e,d as n}from"./app-1abff991.js";import{u as z}from"./useScreen-cfdf0aee.js";import{u as I,S as p,a as j}from"./swiper-react-bead1891.js";import{f as l}from"./formatRupiah-c70df3af.js";import{s as R}from"./formatSlug-c51c4443.js";/* empty css               */import{B as u}from"./Button-41989ba7.js";import{e as T}from"./index.esm-297e406a.js";import{T as c}from"./truncateText-0efa5ecd.js";import{j as V,k as L,f as D}from"./index.esm-d47dd636.js";import{f as N,a as x}from"./index.esm-b9ae67de.js";import{l as W}from"./index-889a8686.js";import{T as J}from"./TextInput-41877d7c.js";import"./iconBase-d7a64011.js";import"./index.esm-50f203ce.js";function le({listProdukUMKM:s,queryKategori:t}){const m=I();z();const[v,g]=i.useState(!1),h=i.useRef(null),{data:b,setData:_,get:f}=E({query:""}),[O,k]=i.useState(t||""),{url:w}=C();i.useEffect(()=>{if(m){const a=document.getElementById("swiper-button-next2"),r=document.getElementById("swiper-button-prev2");a.addEventListener("click",function(){console.log("next"),m.slideNext()}),r.addEventListener("click",function(){m.slidePrev()})}},[m]),i.useEffect(()=>{h.current&&w.startsWith("/?page")&&h.current.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},[s.next_page_url,s.prev_page_url]);function o(a){k(a),f(route("home",{_query:{page:1,kategori:a}}))}function y(a){a.preventDefault(),f(route("productUMKM.find"))}const S=s.data.length,d=Math.ceil(S/3),F=s.data.slice(0,d),$=s.data.slice(d,d*2),B=s.data.slice(d*2);return e.jsxs("main",{id:"products",ref:h,className:"container mx-auto sm:px-20 px-5 my-10",children:[e.jsxs("header",{className:"w-fit mx-auto text-center mb-10",children:[e.jsx("h1",{className:"font-extrabold text-4xl",children:"Produk Ekonomi Kreatif"}),e.jsx("p",{className:"text-lg mt-1",children:"Jelajahi Produk Ekonomi Kreatif Lokal Kami"})]}),e.jsxs("section",{className:"relative",children:[e.jsxs("div",{className:"sm:mb-7 mb-3 flex gap-x-3 justify-between",children:[e.jsxs("div",{className:"flex gap-x-3 h-fit",children:[e.jsxs("div",{className:"relative z-20",children:[e.jsx(u,{text:"Filter",icon:e.jsx(T,{}),onClick:()=>g(a=>!a)}),e.jsxs("div",{className:`w-[17rem] max-h-[20rem] overflow-auto absolute top-12 bg-white rounded-md border border-primary p-5 duration-300 ${v?"opacity-100":"opacity-0 -translate-y-5 pointer-events-none"}`,children:[e.jsx("div",{className:"fixed inset-0",onClick:()=>g(!1)}),e.jsx("ul",{className:"flex flex-col relative",children:W.map((a,r)=>e.jsx("li",{className:"py-2 rounded-md cursor-pointer hover:px-3 hover:bg-gray-100 duration-300",onClick:()=>o(a),children:a},r))})]})]}),t&&e.jsx("div",{className:"sm:flex hidden mb-5 gap-x-3 h-fit",children:e.jsxs("button",{className:"flex gap-x-3 text-sm py-1 px-3 rounded-md bg-dark text-white",children:[e.jsx("span",{children:t}),e.jsx("span",{onClick:()=>o(""),children:e.jsx(N,{size:20})})]})})]}),e.jsxs("form",{onSubmit:y,className:"flex gap-x-3",children:[e.jsx(J,{label:"Search",placeholder:"Search...",value:b.query,onChange:a=>_("query",a.target.value)}),e.jsx(u,{icon:e.jsx(V,{})})]})]}),t&&e.jsx("div",{className:"sm:hidden flex mb-7 gap-x-3 h-fit",children:e.jsxs("button",{className:"flex gap-x-3 text-sm py-1 px-3 rounded-md bg-dark text-white",children:[e.jsx("span",{children:t}),e.jsx("span",{onClick:()=>o(""),children:e.jsx(N,{size:20})})]})}),s.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"sm:grid hidden lg:grid-cols-5 md:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-3",children:s.data.map(a=>e.jsx("div",{children:e.jsx(n,{href:route("productUMKM.detail",a.nama),children:e.jsxs("div",{className:"relative rounded-md border h-fit overflow-hidden group",children:[e.jsx("img",{src:`/images/uploads/products/${a.thumbnail}`,alt:"produk",className:"rounded-t-md h-[10rem] w-full group-hover:scale-110 duration-300"}),e.jsx("div",{className:"absolute top-5 left-5 flex gap-x-2",children:e.jsx("span",{className:"rounded-md py-0.5 px-3 text-sm bg-dark text-white",children:a.kategori})}),e.jsxs("div",{className:"p-3 min-h-[10rem] relative",children:[e.jsx("h2",{className:"text-gray-500",children:c(a.nama,20)}),e.jsx("div",{children:a.harga_fix!==null&&a.harga_fix!==""?e.jsx("h1",{className:"font-bold text-lg",children:l(a.harga_fix)}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-bold text-lg",children:l(a.harga_start)}),e.jsx("span",{children:" - "}),e.jsx("span",{className:"font-bold text-lg",children:l(a.harga_end)})]})}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("span",{className:"rounded-md py-0.5 px-2 text-sm bg-gray-100 text-dark",children:["Kec.",a.pelaku_umkm.kecamatan]}),e.jsxs("p",{className:"mt-2 text-sm flex items-center gap-x-2",children:[e.jsx(x,{size:20,className:"text-primary"}),a.pelaku_umkm.nama_usaha]})]})]})]})})},a.id))}),e.jsxs("div",{className:"sm:hidden",children:[e.jsx(p,{slidesPerView:1.5,spaceBetween:10,className:"mb-5",children:F.map(a=>e.jsx(j,{children:e.jsx(n,{href:route("productUMKM.detail",a.nama),children:e.jsxs("div",{className:"relative rounded-md border h-fit overflow-hidden group",children:[e.jsx("img",{src:`/images/uploads/products/${a.thumbnail}`,alt:"produk",className:"rounded-t-md h-[10rem] w-full group-hover:scale-110 duration-300"}),e.jsx("div",{className:"absolute top-5 left-5 flex gap-x-2",children:e.jsx("span",{className:"rounded-md py-0.5 px-3 text-sm bg-dark text-white",children:a.kategori})}),e.jsxs("div",{className:"p-3 min-h-[10rem] relative",children:[e.jsx("h2",{className:"text-gray-500",children:c(a.nama,20)}),e.jsx("div",{children:a.harga_fix!==null&&a.harga_fix!==""?e.jsx("h1",{className:"font-bold text-lg",children:l(a.harga_fix)}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-bold text-lg",children:l(a.harga_start)}),e.jsx("span",{children:" - "}),e.jsx("span",{className:"font-bold text-lg",children:l(a.harga_end)})]})}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("span",{className:"rounded-md py-0.5 px-2 text-sm bg-gray-100 text-dark",children:["Kec.",a.pelaku_umkm.kecamatan]}),e.jsxs("p",{className:"mt-2 text-sm flex items-center gap-x-2",children:[e.jsx(x,{size:20,className:"text-primary"}),a.pelaku_umkm.nama_usaha]})]})]})]})})},a.id))}),e.jsx(p,{slidesPerView:1.5,spaceBetween:10,className:"mb-5",children:$.map(a=>e.jsx(j,{children:e.jsx(n,{href:route("productUMKM.detail",a.nama),children:e.jsxs("div",{className:"relative rounded-md border h-fit overflow-hidden group",children:[e.jsx("img",{src:`/images/uploads/products/${a.thumbnail}`,alt:"produk",className:"rounded-t-md h-[10rem] w-full group-hover:scale-110 duration-300"}),e.jsx("div",{className:"absolute top-5 left-5 flex gap-x-2",children:e.jsx("span",{className:"rounded-md py-0.5 px-3 text-sm bg-dark text-white",children:a.kategori})}),e.jsxs("div",{className:"p-3 min-h-[10rem] relative",children:[e.jsx("h2",{className:"text-gray-500",children:c(a.nama,20)}),e.jsx("div",{children:a.harga_fix!==null&&a.harga_fix!==""?e.jsx("h1",{className:"font-bold text-lg",children:l(a.harga_fix)}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-bold text-lg",children:l(a.harga_start)}),e.jsx("span",{children:" - "}),e.jsx("span",{className:"font-bold text-lg",children:l(a.harga_end)})]})}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("span",{className:"rounded-md py-0.5 px-2 text-sm bg-gray-100 text-dark",children:["Kec.",a.pelaku_umkm.kecamatan]}),e.jsxs("p",{className:"mt-2 text-sm flex items-center gap-x-2",children:[e.jsx(x,{size:20,className:"text-primary"}),a.pelaku_umkm.nama_usaha]})]})]})]})})},a.id))}),e.jsx(p,{slidesPerView:1.5,spaceBetween:10,className:"mb-5",children:B.map(a=>e.jsx(j,{children:e.jsx(n,{href:route("productUMKM.detail",R(a.nama)),children:e.jsxs("div",{className:"relative rounded-md border h-fit overflow-hidden group",children:[e.jsx("img",{src:`/images/uploads/products/${a.thumbnail}`,alt:"produk",className:"rounded-t-md h-[10rem] w-full group-hover:scale-110 duration-300"}),e.jsx("div",{className:"absolute top-5 left-5 flex gap-x-2",children:e.jsx("span",{className:"rounded-md py-0.5 px-3 text-sm bg-dark text-white",children:a.kategori})}),e.jsxs("div",{className:"p-3 min-h-[10rem] relative",children:[e.jsx("h2",{className:"text-gray-500",children:c(a.nama,20)}),e.jsx("div",{children:a.harga_fix!==null&&a.harga_fix!==""?e.jsx("h1",{className:"font-bold text-lg",children:l(a.harga_fix)}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-bold text-lg",children:l(a.harga_start)}),e.jsx("span",{children:" - "}),e.jsx("span",{className:"font-bold text-lg",children:l(a.harga_end)})]})}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("span",{className:"rounded-md py-0.5 px-2 text-sm bg-gray-100 text-dark",children:["Kec.",a.pelaku_umkm.kecamatan]}),e.jsxs("p",{className:"mt-2 text-sm flex items-center gap-x-2",children:[e.jsx(x,{size:20,className:"text-primary"}),a.pelaku_umkm.nama_usaha]})]})]})]})})},a.id))})]}),e.jsx("div",{className:"mt-5 w-fit mx-auto flex items-center gap-x-3",children:s.links.map((a,r)=>r===0?e.jsx(n,{href:s.prev_page_url+`&kategori=${t}`,className:"hover:-translate-x-2 duration-300",children:e.jsx("span",{className:`cursor-pointer ${s.current_page===1?"hidden":""}`,children:e.jsx(L,{})},r)},r):r===s.links.length-1?e.jsx(n,{href:s.next_page_url+`&kategori=${t}`,className:`hover:translate-x-2 duration-300 ${s.last_page===s.current_page?"hidden":""}`,children:e.jsx("span",{className:"cursor-pointer",children:e.jsx(D,{})})},r):e.jsx(n,{href:a.url+`&kategori=${t}`,className:`${s.current_page!=a.label?"hover:scale-110 duration-300":"pointer-events-none"} `,children:e.jsx("span",{className:`cursor-pointer ${s.current_page==a.label?"text-primary":""}`,children:a.label},r)},r))})]}):e.jsxs("div",{className:"mt-5",children:[e.jsxs("h1",{className:"text-2xl font-bold",children:["Produk",t!==""&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"sektor"})," ",e.jsx("span",{className:"text-primary",children:t})]})," ","tidak ditemukan"]}),e.jsx("p",{children:"Saat ini produk yang ada cari belum tersedia."})]})]})]})}export{le as default};
