import{r as d,W as A,j as e,a as R,n as S,y as W}from"./app-1abff991.js";import{G as $}from"./GuestLayout-595221e7.js";import H from"./FormDataDiri-a0b06a24.js";import O from"./FormDataUsaha-d06c1ded.js";import V from"./FormDataDetail-2d9fe159.js";import{B as _}from"./Button-41989ba7.js";import{L as q}from"./Loading-f3e3b1f4.js";import{e as z}from"./index.esm-50f203ce.js";import{a as J}from"./index.esm-297e406a.js";import"./InputError-79c2b369.js";import"./TextInput-41877d7c.js";import"./SelectInput-6e6f8ef3.js";import"./index-889a8686.js";import"./index.esm-d47dd636.js";import"./iconBase-d7a64011.js";function Q(r){const[n,m]=d.useState(0),p=()=>{m(a=>a>=r.length-1?a:a+1)},i=()=>{m(a=>a<=0?a:a-1)},f=a=>{m(a)};return{currentStepIndex:n,currentStep:r[n],steps:r,isFirstStep:n===0,isLastStep:n===r.length-1,goTo:f,nextStep:p,backStep:i}}const X={nama:"",email:"",password:"",passwordConfirmation:"",namaUsaha:"",alamatUsaha:"",kecamatan:"",telepon:"",jenisUsaha:"",bidangUsaha:"",jumlahTenagaKerja:"",noIjinUsaha:"",noNPWP:""};function de(){const{data:r,setData:n,post:m,processing:p,errors:i}=A(X),{nama:f,email:a,password:x,passwordConfirmation:h,namaUsaha:w,alamatUsaha:k,kecamatan:U,telepon:D,jenisUsaha:F,bidangUsaha:N,jumlahTenagaKerja:I,noIjinUsaha:M,noNPWP:y}=r,[c,l]=d.useState([]),[K,v]=d.useState(""),{currentStep:P,currentStepIndex:j,isFirstStep:L,isLastStep:g,goTo:T,nextStep:B}=Q([e.jsx(H,{...r,setData:n,errorMessage:K,errors:i}),e.jsx(O,{...r,setData:n,errors:i}),e.jsx(V,{...r,setData:n,errors:i})]),E=["Data Diri","Data Usaha","Data Detail"];function C(o){c.includes(o)&&T(o)}function G(o){if(o.preventDefault(),L&&x!==h)return v("Konfirmasi password tidak sesuai");if(v(""),c.includes(j)||l([...c,j]),!g)return B();m(route("registerUMKM.store"),{onSuccess:()=>{S.success("Pendaftaran UMKM Sukses."),W.get("/register/umkm/waiting")},onError:()=>{typeof i=="object"?Object.values(i).forEach((t,b)=>{S.error(`Pendaftaran Gagal 
 ${b+1}. ${t}`)}):S.error("Pendaftaran UMKM Gagal.")}})}return d.useEffect(()=>{const o=f!=""&&a!=""&&x!=""&&h!="",t=w!=""&&k!=""&&U!=""&&D!=""&&F!="",b=N!=""&&I!=""&&M!=""&&y!="";l(o?s=>[...s,0]:s=>s.filter(u=>u!==0)),l(t?s=>[...s,1]:s=>s.filter(u=>u!==1)),l(b?s=>[...s,2]:s=>s.filter(u=>u!==2))},[f,a,x,h,w,k,U,D,F,N,I,M,y]),e.jsxs($,{children:[e.jsx(R,{title:"Daftar Pelaku Ekonomi Kreatif"}),e.jsxs("div",{className:"mb-10",children:[e.jsx("h1",{className:"font-bold text-2xl",children:"Daftar Pelaku Ekonomi Kreatif"}),e.jsx("p",{children:"Bergabunglah bersama kami, wujudkan kesuksesan bersama"})]}),e.jsxs("form",{onSubmit:G,children:[e.jsx("section",{className:"mb-10 flex justify-between",children:E.map((o,t)=>e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"w-fit cursor-pointer",onClick:()=>C(t),children:[e.jsx("div",{className:`mx-auto rounded-full w-10 h-10 flex justify-center items-center font-semibold ${j===t&&!c.includes(t)?"bg-black text-white":c.includes(t)?"bg-primary text-white":"bg-gray-200 text-black"}`,children:t+1}),e.jsx("h1",{className:"text-sm mt-3 text-center sm:whitespace-nowrap",children:o})]}),t!==E.length-1&&e.jsx("div",{className:"h-[1px] sm:w-[6.5rem] w-[5.5rem] bg-gray-200 mt-5"})]},t))}),e.jsx("section",{children:P}),e.jsx("div",{className:"w-full mt-5",children:p?e.jsx(q,{}):e.jsx(_,{variant:"primary",text:g?"Daftar":"Selanjutnya",icon:g?e.jsx(J,{}):e.jsx(z,{}),className:"w-full"})})]})]})}export{de as default};
